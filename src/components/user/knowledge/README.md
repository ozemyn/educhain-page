# 知识内容浏览和搜索功能

## 功能概述

本模块实现了完整的知识内容浏览和搜索功能，包括高级搜索、内容推荐、统计展示等特性。

## 主要组件

### 1. 内容列表页面 (`page.tsx`)
- **响应式网格布局**：支持网格和列表两种视图模式
- **高级搜索**：集成多维度搜索和筛选功能
- **分页导航**：支持大量内容的分页浏览
- **实时统计**：显示搜索结果数量和筛选状态

### 2. 内容详情页面 (`[id]/page.tsx`)
- **完整内容展示**：支持富文本内容和附件下载
- **交互功能**：点赞、收藏、分享等社交功能
- **推荐内容**：基于算法的相关内容推荐
- **响应式设计**：适配桌面和移动设备

### 3. 高级搜索组件 (`AdvancedSearch.tsx`)
- **多维度筛选**：支持分类、标签、日期、数值等筛选
- **实时搜索**：输入即时响应的搜索体验
- **筛选状态管理**：保持和恢复筛选状态
- **可展开界面**：基础和高级搜索的切换

### 4. 内容卡片组件 (`ContentCard.tsx`)
- **多种显示模式**：支持完整和紧凑两种显示模式
- **搜索高亮**：搜索关键词在标题和摘要中高亮显示
- **状态指示**：显示内容审核状态和附件信息
- **悬停效果**：玻璃液态效果的交互动画

### 5. 内容推荐组件 (`ContentRecommendations.tsx`)
- **智能推荐**：基于用户行为和内容相似度
- **排除当前内容**：在详情页面排除当前浏览的内容
- **加载状态**：优雅的加载和空状态处理
- **紧凑展示**：侧边栏友好的紧凑布局

### 6. 统计信息组件 (`ContentStats.tsx`)
- **社区统计**：总内容数、浏览量、点赞数等
- **热门标签**：显示使用频率最高的标签
- **实时数据**：今日新增内容等实时统计
- **可视化展示**：进度条和图标的数据可视化

### 7. 搜索高亮组件 (`SearchHighlight.tsx`)
- **关键词高亮**：在文本中高亮显示搜索关键词
- **正则表达式匹配**：支持复杂的搜索模式
- **样式定制**：可自定义高亮样式
- **性能优化**：避免不必要的重新渲染

### 8. 快速搜索组件 (`QuickSearch.tsx`)
- **搜索建议**：基于历史数据的智能建议
- **最近搜索**：保存和显示最近的搜索记录
- **防抖处理**：优化搜索请求频率
- **键盘导航**：支持键盘快捷操作

### 9. 筛选器组件 (`ContentFilters.tsx`)
- **活跃筛选显示**：清晰展示当前应用的筛选条件
- **单独移除**：可以单独移除某个筛选条件
- **筛选统计**：显示活跃筛选器数量
- **一键清除**：快速清除所有筛选条件

## 技术特性

### 响应式设计
- **移动优先**：优先考虑移动设备的使用体验
- **断点适配**：在不同屏幕尺寸下的最佳布局
- **触摸友好**：移动设备上的触摸交互优化

### 玻璃液态效果
- **毛玻璃背景**：使用backdrop-blur实现毛玻璃效果
- **渐变边框**：半透明边框和阴影效果
- **悬停动画**：鼠标悬停时的平滑过渡动画
- **主题适配**：深浅色主题的自动适配

### 性能优化
- **虚拟滚动**：大量数据的高效渲染
- **图片懒加载**：按需加载图片资源
- **防抖搜索**：减少不必要的API请求
- **缓存策略**：智能的数据缓存和更新

### 用户体验
- **加载状态**：优雅的加载动画和骨架屏
- **错误处理**：友好的错误提示和恢复机制
- **无障碍访问**：支持键盘导航和屏幕阅读器
- **国际化支持**：多语言界面支持

## API 接口

### 内容相关接口
- `GET /api/content` - 获取内容列表（支持搜索和筛选）
- `GET /api/content/:id` - 获取内容详情
- `GET /api/content/recommendations` - 获取推荐内容
- `GET /api/content/stats` - 获取统计数据
- `GET /api/content/suggestions` - 获取搜索建议

### 交互接口
- `POST /api/content/:id/like` - 点赞内容
- `DELETE /api/content/:id/like` - 取消点赞
- `POST /api/content/:id/bookmark` - 收藏内容
- `DELETE /api/content/:id/bookmark` - 取消收藏

### 分类和标签接口
- `GET /api/content/categories/list` - 获取分类列表
- `GET /api/content/tags/list` - 获取标签列表

## 使用示例

```tsx
// 基础内容列表
<ContentCard content={content} />

// 带搜索高亮的内容卡片
<ContentCard 
  content={content} 
  searchQuery="React" 
  compact={true}
/>

// 高级搜索组件
<AdvancedSearch
  onSearch={(filters) => handleSearch(filters)}
  onReset={() => handleReset()}
  initialFilters={currentFilters}
/>

// 内容推荐
<ContentRecommendations 
  currentContentId="123"
  limit={6}
/>
```

## 样式定制

所有组件都使用了统一的设计系统，支持通过CSS变量进行主题定制：

```css
:root {
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-dark: rgba(0, 0, 0, 0.1);
  --glass-border-light: rgba(255, 255, 255, 0.2);
  --glass-border-dark: rgba(255, 255, 255, 0.1);
}
```

## 未来扩展

- **AI 搜索**：集成语义搜索和AI问答
- **个性化推荐**：基于用户行为的深度学习推荐
- **社交功能**：评论、讨论、关注等社交特性
- **离线支持**：PWA和离线缓存功能